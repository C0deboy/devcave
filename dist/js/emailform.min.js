!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([,,,function(e,t,n){n(4);var o={tooShort:function(e,t){return"Pole "+e+" musi zawierać co najmniej "+t+" znaki."},tooLong:function(e,t){return"Pole "+e+" może zawierać co najwyżej "+t+" znaków."},empty:function(e){return"Pole "+e+" nie może być puste."},type:function(e){return"Pole "+e+" jest niepoprawne."},errorsInForm:"W formularzu występują błędy.",cannotSend:"Nie udało się wysłać wiadomości.",recaptcha:"Potwierdź, że nie jesteś robotem."},r={};document.querySelectorAll(".form-data").forEach(function(e){r[e.getAttribute("name")]=e});var a=document.querySelector(".g-recaptcha"),i=document.querySelector(".emailFormAlert"),c=document.getElementById("close-contact-btn"),u=document.getElementById("open-contact-btn"),s=document.querySelector(".form-data:first-child");u.addEventListener("click",function(){s.focus()}),"#formularz-kontaktowy"===document.location.hash&&(u.click(),setTimeout(function(){return s.focus()},100));var l=document.querySelector(".emailFormSubmit");function f(e,t){if(!e.classList.contains("wrongInput")){var n=document.createElement("p");n.classList.add("error"),n.classList.add("wrongInput"),n.textContent=t,e.parentElement.append(n),e.classList.add("wrongInput"),e.addEventListener("focus",d)}}function d(){this.classList.remove("wrongInput"),this.parentElement.removeChild(this.parentElement.getElementsByClassName("error")[0]),i.innerHTML=""}l.addEventListener("keydown",function(e){"Tab"!==e.key||e.shiftKey||(e.preventDefault(),c.focus())}),c.addEventListener("keydown",function(e){"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),l.focus())}),l.addEventListener("click",function(e){if(i.innerHTML='<i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>',e.preventDefault(),!0===function(){var e=!0;for(var t in r){var n=r[t].parentElement.innerText;if(!0===r[t].validity.valueMissing)f(r[t],o.empty(n.toLowerCase()));else if(!0===r[t].validity.tooShort){var i=r[t].getAttribute("minlength");f(r[t],o.tooShort(n.toLowerCase(),i))}else if(!0===r[t].validity.tooLong){var c=r[t].getAttribute("maxlength");f(r[t],o.tooLong(n.toLowerCase(),c))}else!0===r[t].validity.typeMismatch&&f(r[t],o.type(n.toLowerCase()));!1===r[t].validity.valid&&(e=!1)}0===grecaptcha.getResponse().length&&(f(a,o.recaptcha),e=!1);return e}()){var t={"g-recaptcha-response":grecaptcha.getResponse()};for(var n in r)t[n]=r[n].value;var c=new XMLHttpRequest;c.open("POST",document.querySelector(".emailForm").getAttribute("action")),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.setRequestHeader("Accept","application/json, text/javascript, /; q=0.01"),c.onerror=function(){console.log(c),i.innerHTML=o.cannotSend},c.onload=function(){200===c.status?(i.innerHTML="Wysłano! Dzięki za wiadomość!",grecaptcha.reset()):(console.log(c),i.innerHTML=o.cannotSend)},c.send(function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t))}else i.innerHTML=o.errorsInForm}),window.recaptchaClearErr=function(){document.querySelector(".g-recaptcha").focus()}},function(e,t,n){}]);
//# sourceMappingURL=emailform.min.js.map