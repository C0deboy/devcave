<!DOCTYPE html>
<html lang="pl">
<head>
  
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Devcave - blog programisty na tematy związane z branżą IT, a szczególnie z programowaniem. Pracuję głownie z językami Java i Javascript, ale na blogu nie zabraknie tematów ogólnych ;)">
<meta name="author" content="Codeboy">
<title>Jak zrobić wyszukiwarkę na blogu bez backendu?</title>

<link rel="canonical" href="https://devcave.pl/frontend/wyszukiwarka-na-blogu-bez-backendu">
<link rel="shortcut icon" href="/img/logo.ico">

<link rel="stylesheet" href="/dist/css/libs/bootstrap.min.css">
<link rel="stylesheet" href="/dist/css/libs/bootstrap-xlgrid.min.css">
<link rel="stylesheet" href="/dist/css/devcave.min.css">
<link rel="stylesheet" href="/dist/css/syntax.min.css">
<link rel="stylesheet" href="/dist/css/libs/font-awesome.min.css">

<link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link type="application/atom+xml" rel="alternate" href="https://devcave.pl/feed.xml" title="devcave.pl" />

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-custom">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/"><img src="/img/devcave.png" alt="logo"> devcave.pl</a>

            <button type="button" id="navbar-toggle-btn" class="navbar-toggle" data-toggle="collapse" data-target="#site-nav" aria-expanded="false" aria-controls="site-nav">
                Menu
                <i class="fa fa-bars" aria-hidden="true"></i>
            </button>
        </div>

        <nav id="site-nav" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="nav-el" href="/o-mnie/">O mnie</a>
                </li>

                <li>
                    <a class="nav-el" href="/archiwum/">Archiwum</a>
                </li>

                <li>
                    <a class="nav-el" href="/kontakt/">Kontakt</a>
                </li>
                <li>
                    <a class="nav-el" href="/moja-biblioteka">Moja biblioteka</a>
                </li>
                <li>
                    <a class="nav-el" href="/moje-projekty">Moje projekty</a>
                </li>
                <li>
                    <button class="dark-mode-btn nav-el" data-toggle="tooltip" data-placement="bottom" title="Zmień motyw">
                        <i class="fa fa-sun-o" aria-hidden="true"></i>/<i class="fa fa-moon-o" aria-hidden="true"></i>
                    </button>
                </li>
            </ul>
        </nav>
    </div>
</div>


<article>

  <div class="container post">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

        <header class="post-header">
          <div class="post-heading">

            <h1 class="post-title">Wyszukiwarka na statycznych stronach/blogu bez backendu</h1>
            
            <h2 class="post-subtitle">Tylko Javascript, na przykładzie bloga na Jekyllu</h2>
            
            <p class="post-meta">
              
              10
              listopada
              
              2017</p>
            
            <div class="site-tag"><a href='/archiwum#frontend'>Frontend</a></div>
            
            <div class="site-tag"><a href='/archiwum#jak-zrobić'>Jak-zrobić</a></div>
            
            <div class="site-tag"><a href='/archiwum#javascript'>Javascript</a></div>
            
            <div class="site-tag"><a href='/archiwum#jekyll'>Jekyll</a></div>
            
          </div>

          <hr>
        </header>

        
        <nav class="table-of-contents">
          <p class="m0">Spis treści:</p>
          <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#generowanie-pliku-z-mapą-wyszukiwania">Generowanie pliku z mapą wyszukiwania</a></li>
<li class="toc-entry toc-h1"><a href="#przeszukiwanie-i-pokazywanie-wyników">Przeszukiwanie i pokazywanie wyników</a></li>
</ul>

          <hr>
        </nav>
        

        <p>Zastanawiałem się niedawno czy możliwe jest zrobienie wyszukiwarki na statycznej stronie/blogu bez użycia technologii backendowych (chciałem mieć taką na blogu). Okazuję się, że tak - zdziwiłbym się, jeśli było by  inaczej, bo czego to nie można zrobić w IT? Pokażę jak to zrobić wykorzystując projekt na Githubie <a href="https://github.com/daviddarnes/jekyll-search-js">jekyll-search-js</a>, który zmodyfikowałem na swoje potrzeby. Niby jest on typowo pod Jekylla, ale można wykorzystać to w innych technologiach - kluczowe jest wygenerowanie wcześniej pliku JSON z mapą naszych linków do wyszukiwania.</p>

<h1 id="generowanie-pliku-z-mapą-wyszukiwania">Generowanie pliku z mapą wyszukiwania</h1>

<p>Bez tego nasza wyszukiwarka się nie obejdzie. To w nim będzie się odbywało wyszukiwanie elementów. Jeśli mamy możliwość wygenerować taki plik, to będziemy mogli zrobić wyszukiwarkę. Dlatego nie jest to ograniczone do Jekylla jak nazwa wskazuje. Zapewne można to zrobić na co najmniej kilka sposobów ;)</p>

<p>W Jekyllu jest to całkiem proste. Po ściągnięciu paczki z Githuba umieszczamy ją w zasobach projektu i otwieramy plik <span class="file">search.json</span>. W domyślnej wersji do wyszukiwarki trafią nie tylko posty, ale również podstrony. Na blogu chciałem wyszukiwarkę tylko dla postów i zmodyfikowałem nieco kod:</p>

<figure class="highlight"><pre><code class="language-liquid" data-lang="liquid">---
layout: null
sitemap: false
---

<span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="na">json</span><span class="w"> </span><span class="p">%}</span>
[
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">collections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">collections</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where_exp</span><span class="p">:</span><span class="s1">'collection'</span><span class="p">,</span><span class="s1">'collection.output != false'</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>collection<span class="w"> </span>in<span class="w"> </span>collections<span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">collection</span><span class="p">.</span><span class="nv">docs</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where_exp</span><span class="p">:</span><span class="s1">'doc'</span><span class="p">,</span><span class="s1">'doc.sitemap != false'</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>doc<span class="w"> </span>in<span class="w"> </span>docs<span class="w"> </span><span class="p">%}</span>
      <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s2">"%-m"</span><span class="w"> </span><span class="p">%}</span>
      {
        "title": <span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">jsonify</span><span class="w"> </span><span class="p">}}</span>,
        "subtitle": <span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">subtitle</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">jsonify</span><span class="w"> </span><span class="p">}}</span>,
        "date": "<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s2">"%-d"</span><span class="w"> </span><span class="p">}}</span> <span class="p">{%</span><span class="w"> </span><span class="kr">case</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="p">%}{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'1'</span><span class="w"> </span><span class="p">%}</span>stycznia<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'2'</span><span class="w"> </span><span class="p">%}</span>lutego<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'3'</span><span class="w"> </span><span class="p">%}</span>marca<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'4'</span><span class="w"> </span><span class="p">%}</span>kwietnia<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'5'</span><span class="w"> </span><span class="p">%}</span>maja<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'6'</span><span class="w"> </span><span class="p">%}</span>czerwca<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'7'</span><span class="w"> </span><span class="p">%}</span>lipca<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'8'</span><span class="w"> </span><span class="p">%}</span>sierpnia<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'9'</span><span class="w"> </span><span class="p">%}</span>września<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'10'</span><span class="w"> </span><span class="p">%}</span>października<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'11'</span><span class="w"> </span><span class="p">%}</span>listopada<span class="p">{%</span><span class="w"> </span><span class="kr">when</span><span class="w"> </span><span class="s1">'12'</span><span class="w"> </span><span class="p">%}</span>grudnia<span class="p">{%</span><span class="w"> </span><span class="kr">endcase</span><span class="w"> </span><span class="p">%}</span> <span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s2">"%Y"</span><span class="w"> </span><span class="p">}}</span>",
        "url": <span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">baseurl</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">append</span><span class="p">:</span><span class="w"> </span>doc.url<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">jsonify</span><span class="w"> </span><span class="p">}}</span>
      }<span class="p">{%</span><span class="w"> </span><span class="kr">unless</span><span class="w"> </span><span class="nv">forloop</span><span class="p">.</span><span class="nv">last</span><span class="w"> </span><span class="p">%}</span>,<span class="p">{%</span><span class="w"> </span><span class="kr">endunless</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
]
<span class="p">{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{{</span><span class="w"> </span><span class="nv">json</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">lstrip</span><span class="w"> </span><span class="p">}}</span></code></pre></figure>

<p>Ponadto, dodałem wszystkie brakujące informację o poście - podtytuł i datę, a usunąłem miedzy innymi content, bo nie chcę w wyszukiwarce pokazywać treści postu, tylko sam odnośnik. Te brzydkie “casey” po środku odpowiadają za tłumaczenie miesięcy na polski. Niestety w Jekyllu nie ma lepszego rozwiązania.</p>

<p>Po wygenerowaniu pliku przez Jekyll wygląda to tak:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Projekt jaki-jezyk-programowania.pl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wprowadzenie"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 marca 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dajsiepoznac2017/wprowadzenie"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">&lt;!--</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="err">--&gt;</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Przełącznik motywu, tryb nocny na blogu/stronie"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tryb ciemny/jasny w łatwy sposób, tylko JS."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 listopada 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/frontend/przelacznik-motywu-ciemny-na-strone"</span><span class="w">
      </span><span class="p">},</span><span class="w">

      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Liceum vs technikum - co wybrać jako programista?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moje spostrzeżenia i podsumowanie 4 lat w technikum"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5 listopada 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/wybory-programisty/liceum-vs-technikum-co-wybrac"</span><span class="w">
      </span><span class="p">},</span><span class="w">

      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wyszukiwarka na statycznych stronach/blogu bez backendu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tylko Javascript, na przykładzie bloga na Jekyllu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10 listopada 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/frontend/wyszukiwarka-na-blogu-bez-backendu"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<p>Czyli mamy plik z danymi o każdym poście na stronie, gotowy do obróbki.</p>

<h1 id="przeszukiwanie-i-pokazywanie-wyników">Przeszukiwanie i pokazywanie wyników</h1>

<p>Tu całą robotę zrobi za nas Javascript. W paczce są jeszcze 2 pliki <span class="file">search.js</span> i <span class="file">fetch.js</span>. Ten drugi odpowiada za dobieranie się do wygenerowanego pliku JSON, a całą logikę realizuje <span class="file">search.js</span>. Tak więc, <span class="file">fetch.js</span> zostawiamy w spokoju, a pod własne potrzeby modyfikujemy ten pierwszy. Kluczowe są dwie metody - <code class="highlight language-javascript" data-lang="javascript"><span class="nx">findResults</span><span class="p">()</span></code>, gdzie możemy zmodyfikować sposób dopasowywania wyników i <code class="highlight language-javascript" data-lang="javascript"><span class="nx">displayResults</span><span class="p">()</span></code>, gdzie modyfikujemy sposób prezentacji.</p>

<p>U siebie, wyszukiwanie zmodyfikowałem tak, aby były brane pod uwagę pojedyncze słowa, a nie całe frazy:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">async</span> <span class="nx">findResults</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">resultsList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;i class="fa fa-spinner fa-pulse fa-2x fa-fw"&gt;&lt;/i&gt;'</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="kr">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">fetchedData</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">inputValue</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">searchField</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">trim</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">/g</span><span class="p">,</span> <span class="s1">' | '</span><span class="p">);</span><span class="cm">/*&lt;--*/</span>
      <span class="kd">const</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">inputValue</span><span class="p">,</span> <span class="s1">'gi'</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">regex</span><span class="p">)</span> <span class="o">||</span> <span class="nx">item</span><span class="p">.</span><span class="nx">subtitle</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">regex</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span></code></pre></figure>

<p>Z kolejnych słów wpisanych w wyszukiwarce budowane jest wyrażenie regularne, oddzielając je '|' - co znaczy, że będzie dopasowane dowolne słowo, a nie tak jak domyślnie - całe zdania. U mnie działa to o wiele lepiej.</p>

<p>Warstwę prezentacji zmodyfikowałem o klasy występujące na blogu i wcześniej dodane pola:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">async</span> <span class="nx">displayResults</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="kr">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">findResults</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="s2">`
        &lt;li class="result"&gt;
            &lt;article class="result__article  article"&gt;
                &lt;div class="post-preview"&gt;
                  &lt;a href="</span><span class="p">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2">"&gt;
                    &lt;h2 class="post-title"&gt;</span><span class="p">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="s2">&lt;/h2&gt;
                    &lt;h3 class="post-subtitle"&gt;</span><span class="p">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">subtitle</span><span class="p">}</span><span class="s2">&lt;/h3&gt;
                  &lt;/a&gt;
          
                  &lt;p class="post-meta"&gt;</span><span class="p">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">date</span><span class="p">}</span><span class="s2">&lt;/p&gt;
                &lt;/div&gt;
            &lt;/article&gt;
            
            &lt;hr&gt;
        &lt;/li&gt;`</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">((</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">searchField</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s1">''</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">resultsList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;p&gt;Nic nie znaleziono&lt;/p&gt;'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">resultsList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">html</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

<p>Pozostało nam dołączyć wyszukiwarkę do naszej strony, czyli:</p>
<ul>
  <li>zdefiniować wymagane elementy w HTML</li>
  <li>załączyć skrypty</li>
  <li>utworzyć nowy obiekt <code class="highlight language-javascript" data-lang="javascript"><span class="nx">jekyllSearch</span></code> podając kolejno:
    <ul>
      <li>ścieżkę do pliku z mapą wyszukiwania, tu <code class="highlight"><span class="s">'/dist/js/search/search.json'</span></code></li>
      <li>klasę inputa/pola wyszukiwarki, tu <code class="highlight"><span class="s">'search-value'</span></code></li>
      <li>pojemnika na wyniki, tu <code class="highlight"><span class="s">'search-results'</span></code></li>
    </ul>
  </li>
  <li>i zainicjować go:</li>
</ul>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"search-engine"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;label&gt;</span>
    Wyszukaj po tytule/podtytule:
    <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"search-value"</span> <span class="na">placeholder=</span><span class="s">"Wpisz szukaną frazę"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/label&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"search-results"</span><span class="nt">&gt;&lt;/div&gt;</span>

  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/dist/js/search/fetch.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/dist/js/search/search.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

  <span class="nt">&lt;script&gt;</span>

    <span class="kd">const</span> <span class="nx">search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jekyllSearch</span><span class="p">(</span>
      <span class="s1">'/dist/js/search/search.json'</span><span class="p">,</span>
      <span class="s1">'.search-value'</span><span class="p">,</span>
      <span class="s1">'.search-results'</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="nx">search</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<p>A oto efekt - działa zaskakująco dobrze ;)</p>

<div class="search-engine">
  <label>
    Wyszukaj po tytule/podtytule:
    <input class="search-value" placeholder="Wpisz szukaną frazę" />
  </label>

  <div class="search-results"></div>

  <script src="/dist/js/search/fetch.min.js"></script>
  <script src="/dist/js/search/search.min.js"></script>

  <script>

    const search = new jekyllSearch(
      '/dist/js/search/search.json',
      '.search-value',
      '.search-results',
    );

    search.init();

    search.getUrlSearchQuery();

  </script>
</div>



        <hr>

        <ul class="pager">
          
          <li class="previous">
            <a class="box-effect" href="/wybory-programisty/liceum-vs-technikum-co-wybrac"
               data-toggle="tooltip" data-placement="top" title="Liceum vs technikum - co wybrać jako programista?"><i class="fa fa-arrow-left"
                                                                                             aria-hidden="true"></i>
              Poprzedni post</a>
          </li>
          
          
          <li class="next">
            <a class="box-effect" href="/frontend/formularz-kontaktowy-bez-backendu"
               data-toggle="tooltip" data-placement="top" title="Formularz kontaktowy bez backendu/bez PHP">Następny post <i
              class="fa fa-arrow-right" aria-hidden="true"></i></a>
          </li>
          
        </ul>

      </div>
    </div>
  </div>

</article>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <div class="text-center">
  <p class="text-center">Polub stronę bloga na Facebooku. Wrzucam tam informację o nowych wpisach:</p>

  <div class="fb-page inline box-effect">
    <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fdevcavepl&tabs&width=340&height=130&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=false&appId"></iframe>
  </div>
</div>

      <hr>

      

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = "https://devcave.pl/frontend/wyszukiwarka-na-blogu-bez-backendu";
this.page.identifier = "/frontend/wyszukiwarka-na-blogu-bez-backendu";
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://jaki-jezyk-programowania.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Włacz JavaScript w twojej przeglądarce, aby zobaczyć <a href="https://disqus.com/?ref_noscript"> komentarze by Disqus.</a></noscript>



    </div>
  </div>
</div>

<hr>



<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center social-buttons">
                    <li>
                        <a class="main-btn" href="/feed.xml" data-toggle="tooltip" data-placement="top" title="RSS">
                            <i class="fa fa-rss fa-lg"></i>
                        </a>
                    </li>
                    <li>
                        <a class="main-btn" href="https://www.linkedin.com/in/marcin-lasota/" data-toggle="tooltip" data-placement="top" title="LinkedIn">
                            <i class="fa fa-linkedin-square" aria-hidden="true"></i>
                        </a>
                    </li>
                    <li>
                        <a class="main-btn" href="https://github.com/C0deboy" data-toggle="tooltip" data-placement="top" title="Github">
                            <i class="fa fa-github fa-lg"></i>
                        </a>
                    </li>
                    <li>
                        <a class="main-btn" href="mailto:lasota.marcinm@gmail.com" data-toggle="tooltip" data-placement="top" title="lasota.marcinm@gmail.com">
                            <i class="fa fa-envelope fa-lg"></i>
                        </a>
                    </li>
                </ul>
                <p class="copyright text-muted">Copyright &copy; devcave 2017 - 2018</p>
            </div>
        </div>
    </div>
</footer>


<script src="/dist/js/libs/jquery.min.js"></script>

<script src="/dist/js/libs/bootstrap.min.js"></script>

<script src="/dist/js/devcave.min.js"></script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90973428-2', 'auto');
  ga('send', 'pageview');

</script>




</body>

</html>
